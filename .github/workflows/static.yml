<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AAVE UCF | Member Rewards</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        html, body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Professional light gray */
        }
        
        .gold-gradient { background: linear-gradient(135deg, #D4AF37 0%, #F1C40F 100%); }
        .navy-bg { background-color: #1E3A5F; }
        
        /* Updated card styling for better contrast on gray background */
        .glass-card { 
            background: white; 
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05);
        }

        .podium-shadow {
            filter: drop-shadow(0 10px 8px rgba(30, 58, 95, 0.2));
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const App = () => {
            const [view, setView] = useState('dashboard');
            const [events, setEvents] = useState([
                { id: 1, title: 'GBM #1 Welcome', code: 'UCF2024', points: 50 },
                { id: 2, title: 'Engineering Workshop', code: 'AAVEENG', points: 100 }
            ]);
            const [claims, setClaims] = useState([]);
            const [message, setMessage] = useState({ text: '', type: '' });

            // Load data from LocalStorage on mount
            useEffect(() => {
                const savedClaims = localStorage.getItem('aave_claims');
                const savedEvents = localStorage.getItem('aave_events');
                if (savedClaims) setClaims(JSON.parse(savedClaims));
                if (savedEvents) setEvents(JSON.parse(savedEvents));
            }, []);

            const handleClaim = (code) => {
                if (!code) return;
                const event = events.find(e => e.code.toUpperCase() === code.trim().toUpperCase());
                
                if (!event) {
                    setMessage({ text: 'Invalid Event Code!', type: 'error' });
                    return;
                }
                if (claims.find(c => c.eventId === event.id)) {
                    setMessage({ text: 'Points already claimed for this event!', type: 'error' });
                    return;
                }
                
                const newClaim = { 
                    eventId: event.id, 
                    title: event.title, 
                    points: event.points, 
                    date: new Date().toLocaleDateString() 
                };
                
                const updatedClaims = [...claims, newClaim];
                setClaims(updatedClaims);
                localStorage.setItem('aave_claims', JSON.stringify(updatedClaims));
                setMessage({ text: `Success! +${event.points} points added.`, type: 'success' });
                document.getElementById('code-input').value = '';
            };

            const addEvent = (e) => {
                e.preventDefault();
                const title = e.target.title.value;
                const code = e.target.code.value.toUpperCase();
                const points = parseInt(e.target.points.value);

                const newEvent = { id: Date.now(), title, code, points };
                const updatedEvents = [...events, newEvent];
                setEvents(updatedEvents);
                localStorage.setItem('aave_events', JSON.stringify(updatedEvents));
                e.target.reset();
                alert("Event Created Successfully!");
            };

            const totalPoints = claims.reduce((acc, curr) => acc + curr.points, 0);

            return (
                <div className="min-h-screen flex flex-col">
                    <nav className="navy-bg text-white p-4 shadow-xl">
                        <div className="max-w-5xl mx-auto flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 gold-gradient rounded-xl flex items-center justify-center shadow-lg">
                                    <i className="fa-solid fa-gears text-navy-bg"></i>
                                </div>
                                <div className="flex flex-col">
                                    <span className="font-bold leading-none text-lg">AAVE <span className="text-[#D4AF37]">UCF</span></span>
                                    <span className="text-[10px] uppercase tracking-widest opacity-70">Venezuelan Engineers</span>
                                </div>
                            </div>
                            <div className="flex gap-4 md:gap-8 text-sm font-semibold">
                                <button onClick={() => setView('dashboard')} className={`transition hover:text-[#D4AF37] ${view === 'dashboard' ? 'text-[#D4AF37]' : ''}`}>Dashboard</button>
                                <button onClick={() => setView('leaderboard')} className={`transition hover:text-[#D4AF37] ${view === 'leaderboard' ? 'text-[#D4AF37]' : ''}`}>Leaderboard</button>
                                <button onClick={() => setView('admin')} className={`transition hover:text-[#D4AF37] ${view === 'admin' ? 'text-[#D4AF37]' : ''}`}>Admin</button>
                            </div>
                        </div>
                    </nav>

                    <main className="max-w-5xl mx-auto p-6 w-full flex-grow">
                        {view === 'dashboard' && (
                            <div className="space-y-6 animate-in slide-in-from-bottom-4 duration-500">
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div className="glass-card p-6 rounded-2xl border-l-8 border-[#D4AF37]">
                                        <p className="text-slate-500 text-xs uppercase font-bold tracking-wider">Total Points</p>
                                        <h2 className="text-4xl font-black text-slate-800 mt-1">{totalPoints}</h2>
                                    </div>
                                    <div className="glass-card p-6 rounded-2xl border-l-8 border-blue-600">
                                        <p className="text-slate-500 text-xs uppercase font-bold tracking-wider">Events Attended</p>
                                        <h2 className="text-4xl font-black text-slate-800 mt-1">{claims.length}</h2>
                                    </div>
                                    <div className="glass-card p-6 rounded-2xl border-l-8 border-emerald-500">
                                        <p className="text-slate-500 text-xs uppercase font-bold tracking-wider">Status</p>
                                        <h2 className="text-4xl font-black text-slate-800 mt-1 uppercase text-sm">Active Member</h2>
                                    </div>
                                </div>

                                <div className="bg-white p-8 rounded-3xl shadow-xl border border-slate-100 relative overflow-hidden">
                                    <div className="absolute top-0 right-0 p-4 opacity-5 text-6xl">
                                        <i className="fa-solid fa-ticket-simple"></i>
                                    </div>
                                    <h3 className="text-2xl font-bold mb-6 text-slate-800">Redeem Event Code</h3>
                                    <div className="flex flex-col md:flex-row gap-4">
                                        <input 
                                            id="code-input"
                                            type="text" 
                                            placeholder="Enter 8-digit code" 
                                            className="flex-1 px-6 py-4 border-2 border-slate-100 rounded-2xl focus:border-[#D4AF37] outline-none uppercase font-mono text-lg transition-all"
                                        />
                                        <button 
                                            onClick={() => handleClaim(document.getElementById('code-input').value)}
                                            className="navy-bg text-white px-10 py-4 rounded-2xl font-bold hover:bg-slate-700 hover:-translate-y-1 transition-all shadow-lg shadow-blue-900/20"
                                        >
                                            Claim Points
                                        </button>
                                    </div>
                                    {message.text && (
                                        <div className={`mt-6 p-4 rounded-xl flex items-center gap-3 animate-bounce ${message.type === 'success' ? 'bg-emerald-50 text-emerald-700' : 'bg-red-50 text-red-600'}`}>
                                            <i className={`fa-solid ${message.type === 'success' ? 'fa-circle-check' : 'fa-circle-xmark'}`}></i>
                                            <span className="font-bold">{message.text}</span>
                                        </div>
                                    )}
                                </div>

                                <div className="bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden">
                                    <div className="p-6 border-b bg-slate-50/50 flex justify-between items-center">
                                        <h4 className="font-bold text-slate-700 italic">Your Activity Log</h4>
                                        <i className="fa-solid fa-clock-rotate-left text-slate-300"></i>
                                    </div>
                                    <div className="divide-y divide-slate-50">
                                        {claims.length > 0 ? [...claims].reverse().map((c, i) => (
                                            <div key={i} className="p-5 flex justify-between items-center hover:bg-slate-50 transition">
                                                <div className="flex items-center gap-4">
                                                    <div className="w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center">
                                                        <i className="fa-solid fa-calendar-check"></i>
                                                    </div>
                                                    <div>
                                                        <p className="font-bold text-slate-800">{c.title}</p>
                                                        <p className="text-xs text-slate-400 font-medium">{c.date}</p>
                                                    </div>
                                                </div>
                                                <span className="bg-emerald-100 text-emerald-700 px-4 py-1 rounded-full text-sm font-black">+{c.points}</span>
                                            </div>
                                        )) : (
                                            <div className="p-12 text-center">
                                                <p className="text-slate-400 font-medium">No points claimed this semester yet.</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}

                        {view === 'leaderboard' && (
                            <div className="space-y-12 animate-in fade-in duration-700">
                                <div className="text-center space-y-2">
                                    <h2 className="text-4xl font-black text-navy-bg">Top Engineers</h2>
                                    <p className="text-slate-500 font-medium">Competition ends May 2024. Keep attending events!</p>
                                </div>
                                
                                <div className="flex justify-center items-end gap-2 md:gap-8 py-4 px-2">
                                    {/* 2nd Place */}
                                    <div className="flex flex-col items-center">
                                        <div className="w-16 h-16 rounded-full bg-slate-100 border-4 border-white shadow-md mb-2 flex items-center justify-center font-bold text-slate-400 overflow-hidden">
                                            <i className="fa-solid fa-user text-3xl mt-4"></i>
                                        </div>
                                        <div className="w-24 h-28 bg-slate-200 rounded-t-2xl flex flex-col items-center justify-center text-slate-600 podium-shadow">
                                            <span className="font-black text-2xl leading-none">2</span>
                                            <span className="text-[10px] font-bold uppercase tracking-widest">Rank</span>
                                        </div>
                                    </div>
                                    {/* 1st Place */}
                                    <div className="flex flex-col items-center">
                                        <i className="fa-solid fa-crown text-[#D4AF37] text-3xl mb-2 animate-pulse"></i>
                                        <div className="w-20 h-20 rounded-full bg-white border-4 border-[#D4AF37] shadow-xl mb-2 flex items-center justify-center font-bold text-white overflow-hidden relative">
                                            <i className="fa-solid fa-user text-4xl text-slate-200 mt-4"></i>
                                        </div>
                                        <div className="w-32 h-44 gold-gradient rounded-t-3xl flex flex-col items-center justify-center text-navy-bg podium-shadow">
                                            <span className="font-black text-4xl leading-none">1</span>
                                            <span className="text-xs font-bold uppercase tracking-widest">Winner</span>
                                        </div>
                                    </div>
                                    {/* 3rd Place */}
                                    <div className="flex flex-col items-center">
                                        <div className="w-16 h-16 rounded-full bg-orange-50 border-4 border-white shadow-md mb-2 flex items-center justify-center font-bold text-orange-200 overflow-hidden">
                                             <i className="fa-solid fa-user text-3xl mt-4"></i>
                                        </div>
                                        <div className="w-24 h-20 bg-orange-100 rounded-t-2xl flex flex-col items-center justify-center text-orange-700 podium-shadow">
                                            <span className="font-black text-2xl leading-none">3</span>
                                            <span className="text-[10px] font-bold uppercase tracking-widest text-orange-500">Rank</span>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden">
                                    <table className="w-full text-left">
                                        <thead className="bg-navy-bg text-white text-[10px] uppercase tracking-widest font-bold">
                                            <tr>
                                                <th className="p-6">Rank</th>
                                                <th className="p-6">Member Name</th>
                                                <th className="p-6 text-right">Points</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-slate-100">
                                            <tr className="bg-yellow-50/50">
                                                <td className="p-6"><span className="w-8 h-8 rounded-lg gold-gradient text-navy-bg flex items-center justify-center font-black">1</span></td>
                                                <td className="p-6 font-bold text-slate-800">You (Current Session)</td>
                                                <td className="p-6 text-right font-black text-[#D4AF37] text-xl">{totalPoints}</td>
                                            </tr>
                                            <tr>
                                                <td className="p-6 font-bold text-slate-400">#2</td>
                                                <td className="p-6 font-semibold text-slate-700">Sebastian Rodriguez</td>
                                                <td className="p-6 text-right font-bold text-slate-600">450</td>
                                            </tr>
                                            <tr>
                                                <td className="p-6 font-bold text-slate-400">#3</td>
                                                <td className="p-6 font-semibold text-slate-700">Maria Valentina</td>
                                                <td className="p-6 text-right font-bold text-slate-600">380</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        )}

                        {view === 'admin' && (
                            <div className="max-w-2xl mx-auto animate-in zoom-in-95 duration-300">
                                <div className="bg-white p-10 rounded-3xl shadow-2xl border border-slate-100">
                                    <div className="flex items-center gap-4 mb-8">
                                        <div className="w-12 h-12 rounded-2xl bg-red-50 text-red-500 flex items-center justify-center text-2xl">
                                            <i className="fa-solid fa-lock"></i>
                                        </div>
                                        <h2 className="text-3xl font-black text-slate-800">Officer Tools</h2>
                                    </div>
                                    
                                    <form onSubmit={addEvent} className="space-y-6">
                                        <div className="space-y-2">
                                            <label className="text-xs font-black uppercase tracking-widest text-slate-400 ml-1">Event Title</label>
                                            <input name="title" required type="text" className="w-full p-4 border-2 border-slate-100 rounded-2xl focus:border-navy-bg outline-none transition-all font-medium" placeholder="e.g. Networking Night" />
                                        </div>
                                        <div className="grid grid-cols-2 gap-4">
                                            <div className="space-y-2">
                                                <label className="text-xs font-black uppercase tracking-widest text-slate-400 ml-1">Secret Code</label>
                                                <input name="code" required type="text" className="w-full p-4 border-2 border-slate-100 rounded-2xl focus:border-navy-bg outline-none transition-all uppercase font-mono font-bold" placeholder="AAVE2024" />
                                            </div>
                                            <div className="space-y-2">
                                                <label className="text-xs font-black uppercase tracking-widest text-slate-400 ml-1">Points Value</label>
                                                <input name="points" required type="number" className="w-full p-4 border-2 border-slate-100 rounded-2xl focus:border-navy-bg outline-none transition-all font-bold" placeholder="50" />
                                            </div>
                                        </div>
                                        <button type="submit" className="w-full gold-gradient text-navy-bg py-5 rounded-2xl font-black text-lg shadow-lg shadow-yellow-500/20 hover:-translate-y-1 transition-all active:scale-95">
                                            Create Event & Code
                                        </button>
                                    </form>

                                    <div className="mt-12">
                                        <h4 className="text-sm font-black uppercase tracking-widest text-slate-400 mb-4 ml-1">Manage Active Events</h4>
                                        <div className="space-y-3">
                                            {events.map(e => (
                                                <div key={e.id} className="flex justify-between items-center p-4 bg-slate-50 rounded-2xl border border-slate-100">
                                                    <div>
                                                        <p className="font-bold text-slate-800 leading-none">{e.title}</p>
                                                        <p className="text-[10px] font-mono mt-1 text-blue-600 font-bold uppercase">{e.code}</p>
                                                    </div>
                                                    <span className="font-black text-slate-400">{e.points}pts</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>
                    
                    <footer className="py-8 text-slate-400 text-[10px] uppercase tracking-[0.2em] font-bold text-center">
                        American Association of Venezuelan Engineers â€¢ UCF Chapter
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
